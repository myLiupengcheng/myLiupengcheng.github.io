<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Drawable的基础用法 | 刘鹏程</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="1、前言今天来跟大家聊一聊关于Android当中的绘图技巧，绘图技巧，不管是自定义控件，还是在我们去做自定义商业动画，都会常常的使用到，所以在这里和大家聊一聊关于绘图技巧的问题，如果那里有错误，希望各位大神指出。 2、正文我们知道绘图的话，关于画布，画笔，这些Goolge提供的类有很大的关联，但是我们今天着重不是这些，而是从我们要给什么地方画图，这个是今天的重点，至于画图的细节我们以后会说的。 A">
<meta name="keywords" content="绘图技巧">
<meta property="og:type" content="article">
<meta property="og:title" content="Drawable的基础用法">
<meta property="og:url" content="http://yoursite.com/2017/08/01/android-UI-drawing-drawable-01/index.html">
<meta property="og:site_name" content="刘鹏程">
<meta property="og:description" content="1、前言今天来跟大家聊一聊关于Android当中的绘图技巧，绘图技巧，不管是自定义控件，还是在我们去做自定义商业动画，都会常常的使用到，所以在这里和大家聊一聊关于绘图技巧的问题，如果那里有错误，希望各位大神指出。 2、正文我们知道绘图的话，关于画布，画笔，这些Goolge提供的类有很大的关联，但是我们今天着重不是这些，而是从我们要给什么地方画图，这个是今天的重点，至于画图的细节我们以后会说的。 A">
<meta property="og:locale" content="中文">
<meta property="og:image" content="http://yoursite.com/2017/08/01/android-UI-drawing-drawable-01/01.gif">
<meta property="og:image" content="http://yoursite.com/2017/08/01/android-UI-drawing-drawable-01/02.gif">
<meta property="og:image" content="http://yoursite.com/2017/08/01/android-UI-drawing-drawable-01/03.png">
<meta property="og:image" content="http://yoursite.com/2017/08/01/android-UI-drawing-drawable-01/04.gif">
<meta property="og:image" content="http://yoursite.com/2017/08/01/android-UI-drawing-drawable-01/05.png">
<meta property="og:image" content="http://yoursite.com/2017/08/01/android-UI-drawing-drawable-01/06.gif">
<meta property="og:image" content="http://yoursite.com/2017/08/01/android-UI-drawing-drawable-01/07.gif">
<meta property="og:image" content="http://yoursite.com/2017/08/01/android-UI-drawing-drawable-01/08.gif">
<meta property="og:image" content="http://yoursite.com/2017/08/01/android-UI-drawing-drawable-01/09.png">
<meta property="og:image" content="http://yoursite.com/2017/08/01/android-UI-drawing-drawable-01/10.png">
<meta property="og:updated_time" content="2018-07-28T06:28:56.354Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Drawable的基础用法">
<meta name="twitter:description" content="1、前言今天来跟大家聊一聊关于Android当中的绘图技巧，绘图技巧，不管是自定义控件，还是在我们去做自定义商业动画，都会常常的使用到，所以在这里和大家聊一聊关于绘图技巧的问题，如果那里有错误，希望各位大神指出。 2、正文我们知道绘图的话，关于画布，画笔，这些Goolge提供的类有很大的关联，但是我们今天着重不是这些，而是从我们要给什么地方画图，这个是今天的重点，至于画图的细节我们以后会说的。 A">
<meta name="twitter:image" content="http://yoursite.com/2017/08/01/android-UI-drawing-drawable-01/01.gif">
  
  
    <link rel="icon" href="/favicon.png">
  
  <!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'> -->
  <!-- <link href="//fonts.googleapis.com/css?family=Source+Code+Pro:400,700" rel="stylesheet" type="text/css"> -->
  <link href="//fonts.useso.com/css?family=Source+Code+Pro:400,700" rel="stylesheet" type="text/css">
  <link href='//fonts.useso.com/css?family=Open+Sans:300,600' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/css/style.css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <a href="/" class="logo">刘鹏程</a>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about/index.html">About</a>
        
      </nav>
      <nav id="sub-nav">
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
        </div>
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
        
        
          <a id="nav-github-link" class="nav-icon" href="https://github.com/ppoffice/hexo-theme-alex" title="Fork me on GitHub"></a>
        
      </nav>
    </div>
  </div>
</header>
      <nav id="mobile-nav" class="off">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about/index.html" class="mobile-nav-link">About</a>
  
  <div id="search-form-wrap-mobile">
    <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
  </div>
</nav>
      <div class="outer">
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/">JVM</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/协议/">协议</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/并发/">并发</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据结构/">数据结构</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/算法/">算法</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/">设计模式</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/随笔/">随笔</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/06/15/thread-tools-delayQueue/">线程延时队列DelayQueue</a>
          </li>
        
          <li>
            <a href="/2018/06/15/JVM-outofMemroyError-02/">JVM学习2 - OutOfMemroyError***</a>
          </li>
        
          <li>
            <a href="/2018/06/03/JVM-memory-01/">JVM学习1 - 内存区域</a>
          </li>
        
          <li>
            <a href="/2018/05/29/thread-tools-CyclicBarrier/">线程同步工具类CyclicBarrier</a>
          </li>
        
          <li>
            <a href="/2018/05/29/thread-tools-CountDownLatch/">线程同步工具类CountDownLatch</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/">JVM</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OutOfMemroy/">OutOfMemroy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/">http</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/关于博主/">关于博主</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/协议/">协议</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/并发/">并发</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/控件/">控件</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库/">数据库</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构/">数据结构</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/绘图技巧/">绘图技巧</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计模式/">设计模式</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JVM/" style="font-size: 13.33px;">JVM</a> <a href="/tags/OutOfMemroy/" style="font-size: 10px;">OutOfMemroy</a> <a href="/tags/http/" style="font-size: 16.67px;">http</a> <a href="/tags/关于博主/" style="font-size: 10px;">关于博主</a> <a href="/tags/协议/" style="font-size: 16.67px;">协议</a> <a href="/tags/并发/" style="font-size: 20px;">并发</a> <a href="/tags/控件/" style="font-size: 16.67px;">控件</a> <a href="/tags/数据库/" style="font-size: 16.67px;">数据库</a> <a href="/tags/数据结构/" style="font-size: 13.33px;">数据结构</a> <a href="/tags/算法/" style="font-size: 13.33px;">算法</a> <a href="/tags/绘图技巧/" style="font-size: 16.67px;">绘图技巧</a> <a href="/tags/设计模式/" style="font-size: 10px;">设计模式</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">links</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="http://hexo.io">Hexo</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
        <section id="main"><article id="post-android-UI-drawing-drawable-01" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/01/android-UI-drawing-drawable-01/" class="article-date">
  <time datetime="2017-08-01T04:34:35.000Z" itemprop="datePublished">2017-08-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Drawable的基础用法
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1、前言"><a href="#1、前言" class="headerlink" title="1、前言"></a>1、前言</h2><p>今天来跟大家聊一聊关于Android当中的绘图技巧，绘图技巧，不管是自定义控件，还是在我们去做自定义商业动画，都会常常的使用到，所以在这里和大家聊一聊关于绘图技巧的问题，如果那里有错误，希望各位大神指出。</p>
<h2 id="2、正文"><a href="#2、正文" class="headerlink" title="2、正文"></a>2、正文</h2><p>我们知道绘图的话，关于画布，画笔，这些Goolge提供的类有很大的关联，但是我们今天着重不是这些，而是从我们要给什么地方画图，这个是今天的重点，至于画图的细节我们以后会说的。</p>
<p>Android系统当中把我们所有的关于可以绘制的对象抽象出来，叫做Drawable对象，相信这个对象大家一定都不会陌生，在我们的实际开发当中我们基本天天都能遇到，今天就和大家聊一聊关于Drawable的各种用法。</p>
<p>我们想一想在我们的实际开发当中我们是怎么样去运用我们的Drawable的，我们会在res/drawable这个资源文件下面定义各种各样的Xml的文件，我们的Xml有不同的节点，其实我们这里的一个Xml的节点，就对应我们的Drawable的实现类，也就是说我们我们创建出来的Xml的文件，会被SDK自动的根据你的节点去创建相应的一个Drawable实现来，从而去实现我们所要的效果，在这里我们可以去类比一下我们的View，我们View当中的控件貌似也是这么定义的，在Xml当中去设定我们View控件所要的属性。但是我们的View可以在代码当中New出来，我们在这里试想一下，我们的Drawable也是可以在代码当中去new出来的，然后通过代码去给他去添加属性，答案是可以的，但是我们又想了想，我们new一个View有用么，我们一般不是new一个Button，一个ImageVeiw的么，我们可以去new一个Drawable的实现类，然后通过Drawable去进行管理，就像我们可以去用我们的View，ViewGroup去管理我们的控件和布局。</p>
<p>那么我们来看看Drawable的哪些节点对应的哪些实现类呢！然后会给大家详细的去做介绍。为了让各位看的更加的清楚，相信大家就非常的清楚了</p>
<ul>
<li>selector : StateListDrawable</li>
<li>layer-list : LayerDrawable</li>
<li>transition : TransitionDrawable</li>
<li>color : ColorDrawable</li>
<li>shape : GradientDrawable</li>
<li>scale : ScaleDrawable</li>
<li>clip : ClipDrawable</li>
<li>rotate : RotateDrawable</li>
<li>animation-list : AnimationDrawable:</li>
<li>insert : InsetDrawable:</li>
<li>bitmap : BitmapDrawable</li>
<li>nine-patch : NinePatchDrawable:</li>
</ul>
<h3 id="1-selector-StateListDrawable"><a href="#1-selector-StateListDrawable" class="headerlink" title="1 selector StateListDrawable"></a>1 selector StateListDrawable</h3><p>这个叫做状态的选择器，首先我们需要明白一点，就是StateListDrawable里面维护了不止一个Drawable对象，就是一组Drawable对象。既然它叫做状态选择器，说白了就是可以去根据不同的状态去返回不同的Drawable对象，而这些状态是由系统去进行提供的，至于都有哪些状态，按下状态、选中状态、默认状态、禁用状态等等，如果想了解更加全面，请大家参考Google的API，我们的Button的背景一般都使用这个Drawable，还有就是TV的海报也是用它，基本我们去和用户做交互的控件的背景都会使用到它</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">selector</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- state_pressed：代表用户按下状态  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:state_pressed</span>=<span class="string">"true"</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/press"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 如果状态什么都不写，代表默认状态，就是什么都不触发的时候 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/normal"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 没有焦点时的背景图片 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;item android:state_window_focused="false" android:drawable="@drawable/pic1" /&gt;--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 非触摸模式下获得焦点并单击时的背景图片 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;item android:state_focused="true" android:state_pressed="true"   android:drawable= "@drawable/pic2" /&gt;--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 触摸模式下单击时的背景图片--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;item android:state_focused="false" android:state_pressed="true"   android:drawable="@drawable/pic3" /&gt;--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--选中时的图片背景--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;item android:state_selected="true"   android:drawable="@drawable/pic4" /&gt;--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--获得焦点时的图片背景--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;item android:state_focused="true"   android:drawable="@drawable/pic5" /&gt;--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--设置是否响应事件,指所有事件--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;item android:android:state_enabled="true"   android:drawable="@drawable/pic5" /&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">selector</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>在我们的Layout当中只需要引入一下我们刚刚用Xml定义的Drawable，就OK了</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">"@drawable/selector_bg"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>效果图如下，当我点击的按下的时候会发生改变，当我抬起的时候会变为原来的，这只是一种状态，还有别的状态，笔者这里就不一一列举了</p>
<p><img src="/2017/08/01/android-UI-drawing-drawable-01/01.gif" alt="StateListDrawable"></p>
<h3 id="2、level-list-LevelListDrawable"><a href="#2、level-list-LevelListDrawable" class="headerlink" title="2、level-list LevelListDrawable"></a>2、level-list LevelListDrawable</h3><p>这个我的理解是自定义选择器，首先在LevelListDrawable里面和我们StateListDrawable一样，维护了一组的Drawable的对象，同时维护了每一个Drawable要显示的Level范围，不同的是上述是通过系统发出的状态去做出一个处理去显示我们的Drawable对象，而这个是自己定义一个范围去匹配响应的Drawable去显示。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">level-list</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@drawable/fm_vehicle_linking_1"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:maxLevel</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@drawable/fm_vehicle_linking_2"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:maxLevel</span>=<span class="string">"2"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@drawable/fm_vehicle_linking_3"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:maxLevel</span>=<span class="string">"3"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@drawable/fm_vehicle_linking_4"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:maxLevel</span>=<span class="string">"4"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@drawable/fm_vehicle_linking_5"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:maxLevel</span>=<span class="string">"5"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@drawable/fm_vehicle_linking_6"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:maxLevel</span>=<span class="string">"6"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@drawable/fm_vehicle_linking_7"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:maxLevel</span>=<span class="string">"7"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@drawable/fm_vehicle_linking_8"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:maxLevel</span>=<span class="string">"8"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@drawable/fm_vehicle_linking_9"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:maxLevel</span>=<span class="string">"9"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@drawable/fm_vehicle_linking_10"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:maxLevel</span>=<span class="string">"10"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@drawable/fm_vehicle_linking_11"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:maxLevel</span>=<span class="string">"11"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@drawable/fm_vehicle_linking_12"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:maxLevel</span>=<span class="string">"12"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@drawable/fm_vehicle_linking_13"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:maxLevel</span>=<span class="string">"13"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@drawable/fm_vehicle_linking_14"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:maxLevel</span>=<span class="string">"14"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">level-list</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>我们的Layout使用一个seekBar 和一个ImageView去展示我们的图片，相当于一个载体。没有什么难度，楼主在这里就不去贴图片了我们直接来看看我们的Activity的代码，在我们的seekBar上面增加一个监听器，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 初始化View */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initView</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> ImageView image = (ImageView) findViewById(R.id.iv);</span><br><span class="line">    <span class="keyword">final</span> Drawable drawable = getResources().getDrawable(R.drawable.levellist);</span><br><span class="line">    SeekBar seekBar = (SeekBar) findViewById(R.id.seekBar);</span><br><span class="line">    seekBar.setMax(<span class="number">14</span>);</span><br><span class="line">    seekBar.setOnSeekBarChangeListener(<span class="keyword">new</span> SeekBar.OnSeekBarChangeListener() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onProgressChanged</span><span class="params">(SeekBar seekBar, <span class="keyword">int</span> progress, <span class="keyword">boolean</span> fromUser)</span> </span>&#123;</span><br><span class="line">            drawable.setLevel(progress);</span><br><span class="line">            image.setImageDrawable(drawable);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStartTrackingTouch</span><span class="params">(SeekBar seekBar)</span> </span>&#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStopTrackingTouch</span><span class="params">(SeekBar seekBar)</span> </span>&#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>效果呢！就是如下这样啦</p>
<p><img src="/2017/08/01/android-UI-drawing-drawable-01/02.gif" alt="LevelListDrawable"></p>
<h3 id="3、layer-list-LayerDrawable"><a href="#3、layer-list-LayerDrawable" class="headerlink" title="3、layer-list LayerDrawable"></a>3、layer-list LayerDrawable</h3><p>这个是图层的Drawable，它同样是维护了一组的Drawable，但是会根据我们在XML当中定义的顺序去给它做一个顺序显示，列表的最后一个drawable绘制在最上层。每一个Drawable处于一个不同的图层，也许会出现重叠，交叉的现象，但是不会首到另外Drawable的影响。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">layer-list</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/live_color_2"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- android:top - Integer。与top的距离，单位像素</span></span><br><span class="line"><span class="comment">         android:right - Integer。与right的距离，单位像素</span></span><br><span class="line"><span class="comment">         android:bottom - Integer。与bottom的距离，单位像素</span></span><br><span class="line"><span class="comment">         android:left - Integer。与left的距离，单位像素</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        在默认的情况下，所有的drawable item都会缩放到合适的大小来适应视图。</span></span><br><span class="line"><span class="comment">        因此,在一个layer-list中定义不同的位置可能会增加视图的尺寸和被自动缩放。</span></span><br><span class="line"><span class="comment">        为了避免被缩放，可以再&lt;item&gt;节点里加上&lt;bitmap&gt;元素来指定一个drawable，</span></span><br><span class="line"><span class="comment">        并且定义一些不会被拉伸的gravity属性，例如center。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        &lt;item&gt;</span></span><br><span class="line"><span class="comment">            &lt;bitmap android:src="@drawable/image"</span></span><br><span class="line"><span class="comment">                    android:gravity="center" /&gt;</span></span><br><span class="line"><span class="comment">        &lt;/item&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/live_color_3"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:top</span>=<span class="string">"30dip"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:left</span>=<span class="string">"30dip"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:right</span>=<span class="string">"30dip"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:bottom</span>=<span class="string">"30dip"</span></span></span><br><span class="line"><span class="tag">       /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/live_color_4"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:top</span>=<span class="string">"60dip"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:left</span>=<span class="string">"60dip"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:right</span>=<span class="string">"60dip"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:bottom</span>=<span class="string">"60dip"</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">layer-list</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>我们的Layout同第一个一样，直接去引用一下就OK</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/iv"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_centerInParent</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:src</span>=<span class="string">"@drawable/layerlist"</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br></pre></td></tr></table></figure>
<p>效果呢，如下，但是请注意上述注释里面所说的情况</p>
<p><img src="/2017/08/01/android-UI-drawing-drawable-01/03.png" alt="LayerDrawable"></p>
<h3 id="4、transition-TransitionDrawable"><a href="#4、transition-TransitionDrawable" class="headerlink" title="4、transition TransitionDrawable"></a>4、transition TransitionDrawable</h3><p>这是一个LayerDrawable子类，那么它涉及到的也将会是图层的知识，但是他只涉及到了两个图层的变化，就是把上面和下面的图层进行交替显示，通过改变他们的透明度，为维护了一个平滑的透明度变化的动画效果，开启动画调用startTransition()。可以反向开启调用 reverseTransition()。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">transition</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 一个青色的小圆 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/live_color_2"</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 一个黄色的小圆 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">"@drawable/live_color_4"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Activity里面去设置一下这个Drawable，比如什么时候开启过度透明度动画，设置动画时长之类的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        ImageView image = (ImageView) findViewById(R.id.iv);</span><br><span class="line"></span><br><span class="line">        Resources res = getResources();</span><br><span class="line">        TransitionDrawable transition = (TransitionDrawable)res.getDrawable(R.drawable.transition);</span><br><span class="line"></span><br><span class="line">        image.setImageDrawable(transition);</span><br><span class="line">        transition.startTransition(<span class="number">2000</span>);</span><br><span class="line"><span class="comment">//      这个是反向开启动画</span></span><br><span class="line"><span class="comment">//      transition.reverseTransition(2000);</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>效果如下：</p>
<p><img src="/2017/08/01/android-UI-drawing-drawable-01/04.gif" alt="TransitionDrawable"></p>
<h3 id="5、color-ColorDrawable"><a href="#5、color-ColorDrawable" class="headerlink" title="5、color ColorDrawable"></a>5、color ColorDrawable</h3><p>这个Drawable对象，描述的不像上面的，它描述一个单个Drawable，在其内部定义颜色属性，当要绘制的时候，会读取到里面的颜色值，把这个颜色设置给将要绘制的Paint对象上面，注意这个Drawable一旦绘制，就不好修改了。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">color</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:color</span>=<span class="string">"#FF0000"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p>颜色是怎么归类的 6位 ARGB 这个楼主就默认大家都会了，也就不浪费时间了</p>
<h3 id="6、shape-GradientDrawable"><a href="#6、shape-GradientDrawable" class="headerlink" title="6、shape GradientDrawable"></a>6、shape GradientDrawable</h3><p>这个Drawable大家可以理解为上述ColorDrawable的加强版，在这个Drawable中维护了很多属性，好方便我们来使用，使用这个Drawable，我们可以实现是一个区域内的颜色渐变，其中主要分为线性渐变，发散渐变，平铺渐变，下面我们来研究一下，在它的内部定义了什么属性来达到我们实现炫酷的效果</p>
<ul>
<li>1、size：定义区域的大小</li>
<li>2、gradient：设置区域背景的渐变效果</li>
<li>3、solid：设置区域的背景颜色，如果设置了solid会覆盖gradient的效果</li>
<li>4、stroke：设置区域的边框效果</li>
<li>5、padding：设置区域的内边距，</li>
</ul>
<p>这个Drawable很常用，同时也很重要，所以楼主会详细一点</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        rectangle 长方形 /默认</span></span><br><span class="line"><span class="comment">        oval 椭圆</span></span><br><span class="line"><span class="comment">        line 线</span></span><br><span class="line"><span class="comment">        ring 环形</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">shape</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:shape</span>=<span class="string">"rectangle"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 用来描述渐变的类型，线性渐变，发散渐变，平铺渐变，还有渐变开始颜色，渐变结束颜色 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        angle 是颜色变换的角度, 默认是0, 取值必须是45的 倍数. 0: 是颜色从左边到右边, 90: 是颜色从底部到顶部,</span></span><br><span class="line"><span class="comment">        startColor centerColor endColor 一起使用: 开始的颜色, 中间的颜色, 结束的颜色</span></span><br><span class="line"><span class="comment">        centerX centerY是指定位置坐标, 取值是0.0f ~ 1.0f 之间, 例如: android:centerX="0.5f"  表示X方向的中间位置</span></span><br><span class="line"><span class="comment">        gradientRadius 和android:type="radial"一起连用,</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        android:type:</span></span><br><span class="line"><span class="comment">                radial 平铺渐变, 例如: 从一个圆中心到圆的边缘变化</span></span><br><span class="line"><span class="comment">                sweep 发散渐变, 类似雷达扫描的那种图形</span></span><br><span class="line"><span class="comment">                linear 线性渐变, 就是颜色从左往右, 从下往上</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">gradient</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:startColor</span>=<span class="string">"#FF0000"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:centerColor</span>=<span class="string">"#00FF00"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:endColor</span>=<span class="string">"#0000FF"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:type</span>=<span class="string">"linear"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 用来定义显示区域的大小 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            这里一般不用设置, 它的优先级没有控件的优先级大,</span></span><br><span class="line"><span class="comment">            他指定控件的宽高就好, shape图形会随控件拉伸</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line"> <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        &lt;size</span></span><br><span class="line"><span class="comment">        android:width="100dp"</span></span><br><span class="line"><span class="comment">        android:height="100dp"</span></span><br><span class="line"><span class="comment">        /&gt;</span></span><br><span class="line"><span class="comment">  --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 用来定义圆角 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        bottomLeftRadius 左下角</span></span><br><span class="line"><span class="comment">        bottomRightRadius 右下角</span></span><br><span class="line"><span class="comment">        topLeftRadius 左上角</span></span><br><span class="line"><span class="comment">        topRightRadius 右上角</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        radius 是四个角, 设置了这个就不需要设置上面的四个了, PS:它的优先级比较低, 会被其他参数覆盖</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">corners</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:bottomLeftRadius</span>=<span class="string">"10dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:bottomRightRadius</span>=<span class="string">"10dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:topLeftRadius</span>=<span class="string">"10dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:topRightRadius</span>=<span class="string">"10dp"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- padding标签: 这里的padding是控件中间内容与shape图形图片的距离 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">padding</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:bottom</span>=<span class="string">"5dip"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:left</span>=<span class="string">"5dip"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:right</span>=<span class="string">"5dip"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:top</span>=<span class="string">"15dip"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--solid标签: shape图形背景色, 这个和上面的gradient标签会互斥, 一个是设置背景色, 一个是设置渐变色, 上述也说过这个问题 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        &lt;solid</span></span><br><span class="line"><span class="comment">            android:color="@android:color/white"/&gt;</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 边框的颜色宽度的设置 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">         width 边框的宽度</span></span><br><span class="line"><span class="comment">         color 边框的颜色</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        边框的样式：</span></span><br><span class="line"><span class="comment">            dashGap 虚线中空格的长度</span></span><br><span class="line"><span class="comment">            dashWidth 虚线中实线的长度</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">stroke</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:width</span>=<span class="string">"5dip"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:color</span>=<span class="string">"#0000FF"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:dashGap</span>=<span class="string">"2dip"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:dashWidth</span>=<span class="string">"1dip"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>效果如下：</p>
<p><img src="/2017/08/01/android-UI-drawing-drawable-01/05.png" alt="GradientDrawable"></p>
<h3 id="7、scale-ScaleDrawable"><a href="#7、scale-ScaleDrawable" class="headerlink" title="7、scale ScaleDrawable"></a>7、scale ScaleDrawable</h3><p>这个Drawable主要就是对原有的Drawable去进行一定百分比的缩放，我们可以选取不同的缩放中心对这个Drawable进行控制</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        drawable Drawable 资源。必须的。引用一个drawable资源。</span></span><br><span class="line"><span class="comment">        scaleHeight 缩放的高度，以百分比的方式表示drawable的缩放。形式例如：100%，12.5%。</span></span><br><span class="line"><span class="comment">        scaleWidth 缩放的宽度，以百分比的方式表示drawable的缩放。形式例如：100%，12.5%。</span></span><br><span class="line"><span class="comment">        scaleGravity 指定缩放后的gravity的位置。必须是下面的一个或多个值（多个值之间用”|”分隔）</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">scale</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:drawable</span>=<span class="string">"@drawable/press"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:scaleGravity</span>=<span class="string">"center_vertical|center_horizontal"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:scaleHeight</span>=<span class="string">"50%"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:scaleWidth</span>=<span class="string">"50%"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>准备好以后，我们来运行一下，但是我们发现并没有显示图片，查看ScaleDrawable的源码，发现draw()方法有判断getLevel() != 0才绘制。而我们在没有setLevel()时，默认getLevel()都是0。<br>那我们先设置10000吧，我们再次运行，发现没有按照我们50%的比例进行缩放，然后我们去看官方文档</p>
<ul>
<li>A Drawable that changes the size of another Drawable based on its current level value，</li>
</ul>
<p>我们发现ScaleDrawable的缩放，并不是自动的建立在原有Drawable尺寸的基础上的。而是，需要给原有的Drawable指定一个Level，然后ScaleDrawable是在这个Level的基础上进行缩放的！<br>注意：设置的值是缩小的比例。也就是说，设置0.5，意为缩小50%！！而不是原始大小的50%<br>那么我们在我们的Activity里面</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">    setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line">    ScaleDrawable drawable = (ScaleDrawable) getResources().getDrawable(R.drawable.scale);</span><br><span class="line"></span><br><span class="line">    ImageView image = (ImageView) findViewById(R.id.iv);</span><br><span class="line">    image.setImageDrawable(drawable);</span><br><span class="line">    <span class="comment">//在这个地方设置Level</span></span><br><span class="line">   image.setImageLevel(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">    setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line">    ScaleDrawable drawable = (ScaleDrawable) getResources().getDrawable(R.drawable.scale);</span><br><span class="line"></span><br><span class="line">    ImageView image = (ImageView) findViewById(R.id.iv);</span><br><span class="line">    image.setImageDrawable(drawable);</span><br><span class="line">    <span class="comment">//在这个地方设置Level</span></span><br><span class="line">   image.setImageLevel(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>效果呢  如下：</p>
<p><img src="/2017/08/01/android-UI-drawing-drawable-01/06.gif" alt="ScaleDrawable"></p>
<h3 id="8、clip-ClipDrawable"><a href="#8、clip-ClipDrawable" class="headerlink" title="8、clip ClipDrawable"></a>8、clip ClipDrawable</h3><p>这个Drawable主要就是对原有的Drawable进行一个裁剪，我们会有gravity选择在父容器的对齐方式，然后通过Drawable提供的level去设置我们去裁剪的大小，裁剪是从0到10000，0代表完全不显示，10000代表完全显示。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    drawable:所需要的Drawable资源</span></span><br><span class="line"><span class="comment">    clipOrientation：裁剪的方向，垂直，水平</span></span><br><span class="line"><span class="comment">    gravity：对齐方式</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">clip</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:drawable</span>=<span class="string">"@drawable/press"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:clipOrientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">"center"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p>定义出了我们自已要的Drawable，然后在我们的Activity进行应用就OK了</p>
<p>下面看Activity的代码实现</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">    setContentView(R.layout.activity_main);</span><br><span class="line">    initView();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** 初始化View */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initView</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> ImageView image = (ImageView) findViewById(R.id.iv);</span><br><span class="line">    <span class="keyword">final</span>  ClipDrawable drawable = (ClipDrawable) getResources().getDrawable(R.drawable.clip);</span><br><span class="line">    SeekBar seekBar = (SeekBar) findViewById(R.id.seekBar);</span><br><span class="line">    seekBar.setMax(<span class="number">10000</span>);</span><br><span class="line">    seekBar.setOnSeekBarChangeListener(<span class="keyword">new</span> SeekBar.OnSeekBarChangeListener() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onProgressChanged</span><span class="params">(SeekBar seekBar, <span class="keyword">int</span> progress, <span class="keyword">boolean</span> fromUser)</span> </span>&#123;</span><br><span class="line">            drawable.setLevel(progress);</span><br><span class="line">            image.setImageDrawable(drawable);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStartTrackingTouch</span><span class="params">(SeekBar seekBar)</span> </span>&#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStopTrackingTouch</span><span class="params">(SeekBar seekBar)</span> </span>&#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面贴出效果图</p>
<p><img src="/2017/08/01/android-UI-drawing-drawable-01/07.gif" alt="ClipDrawable"></p>
<h3 id="9、rotate-RotateDrawable"><a href="#9、rotate-RotateDrawable" class="headerlink" title="9、rotate RotateDrawable"></a>9、rotate RotateDrawable</h3><p>这个Drawable主要就是对原有的Drawable进行一定角度的旋转，基于当前的level，进行旋转的drawable。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="comment">&lt;!--drawable: Drawable 资源。必须的。引用一个drawable资源。</span></span><br><span class="line"><span class="comment">    visible:Boolean。是否可见。</span></span><br><span class="line"><span class="comment">    fromDegrees:整形。  从多少的角度开始旋转</span></span><br><span class="line"><span class="comment">    toDegrees:整形。  到多少的角度结束旋转</span></span><br><span class="line"><span class="comment">    pivotX:百分比。  旋转的中心在图片X轴的百分比</span></span><br><span class="line"><span class="comment">    pivotY:百分比。  旋转的中心在图片Y轴的百分比--&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;<span class="name">rotate</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:drawable</span>=<span class="string">"@drawable/press"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:visible</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:fromDegrees</span>=<span class="string">"0"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:toDegrees</span>=<span class="string">"360"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:pivotX</span>=<span class="string">"50%"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:pivotY</span>=<span class="string">"50%"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">rotate</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>在这里我们对旋转度数做一个详细的介绍，</p>
<p>图片将从0到360进行旋转。level值为10000，也就是说level每加1000，即顺时针旋转360/10000*1000=36度。<br>可以根据显示看出来效果。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">    setContentView(R.layout.activity_main);</span><br><span class="line">    initView();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** 初始化View */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initView</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> ImageView image = (ImageView) findViewById(R.id.iv);</span><br><span class="line">    <span class="keyword">final</span> RotateDrawable drawable = (RotateDrawable) getResources().getDrawable(R.drawable.rotate);</span><br><span class="line">    SeekBar seekBar = (SeekBar) findViewById(R.id.seekBar);</span><br><span class="line">    seekBar.setMax(<span class="number">10000</span>);</span><br><span class="line">    seekBar.setOnSeekBarChangeListener(<span class="keyword">new</span> SeekBar.OnSeekBarChangeListener() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onProgressChanged</span><span class="params">(SeekBar seekBar, <span class="keyword">int</span> progress, <span class="keyword">boolean</span> fromUser)</span> </span>&#123;</span><br><span class="line">            drawable.setLevel(progress);</span><br><span class="line">            image.setImageDrawable(drawable);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStartTrackingTouch</span><span class="params">(SeekBar seekBar)</span> </span>&#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStopTrackingTouch</span><span class="params">(SeekBar seekBar)</span> </span>&#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>效果呢，如下：</p>
<p><img src="/2017/08/01/android-UI-drawing-drawable-01/08.gif" alt="RotateDrawable"></p>
<h3 id="10、animation-list-AnimationDrawable"><a href="#10、animation-list-AnimationDrawable" class="headerlink" title="10、animation-list AnimationDrawable"></a>10、animation-list AnimationDrawable</h3><p>这个Drawable里面维护了一组Drawable，通过一定的顺序，一定的显示时长去做一个Drawable的逐个显示，那么这么就会形成一个动画，也就是说每一个Drawable就是这个动画当中的一个帧，你可以通过oneshot属性来控制该动画播放完毕以后是否重新播放，主动调用AnimationDrawable的start播放动画，关于AnimationDrawable这个动画大家可以去看一下我的关于动画专题的博客。</p>
<h3 id="11、inset-InsetDrawable"><a href="#11、inset-InsetDrawable" class="headerlink" title="11、inset InsetDrawable"></a>11、inset InsetDrawable</h3><p>这个Drawable主要是说可以把一个Drawable插入到另外一个Drawable的内部，并且在内部留一些间距</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        drawable: Drawable 资源。必须的。引用一个drawable资源。</span></span><br><span class="line"><span class="comment">        insetBottom:整形。  底边距的大小</span></span><br><span class="line"><span class="comment">        insetLeft:整形。  左边距的大小</span></span><br><span class="line"><span class="comment">        insetRight:整形。 右边距的大小</span></span><br><span class="line"><span class="comment">        insetTop:整形。  上边距的大小</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">inset</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:drawable</span>=<span class="string">"@drawable/press"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:insetBottom</span>=<span class="string">"30dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:insetLeft</span>=<span class="string">"30dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:insetRight</span>=<span class="string">"30dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:insetTop</span>=<span class="string">"30dp"</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">inset</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>layout：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:clipChildren</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/iv"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_centerInParent</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">"#aaa"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:src</span>=<span class="string">"@drawable/insert"</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>效果如下</p>
<p><img src="/2017/08/01/android-UI-drawing-drawable-01/09.png" alt="InsetDrawable"></p>
<h3 id="12、bitmap-BitmapDrawable"><a href="#12、bitmap-BitmapDrawable" class="headerlink" title="12、bitmap BitmapDrawable"></a>12、bitmap BitmapDrawable</h3><p>这个Drawable主要是对Bitmap的一种封装，可以设置它包装的bitmap在BitmapDrawable区域内的绘制方式，如平铺填充、拉伸填充或者保持图片原始大小，也可以在BitmapDrawable区域内部使用gravity指定的对齐方式。<br>BitmapDrawable就是封装了一个位图。以文件的方式，封装一个原始的位图。以Xml方式，可以对原始的位图进行一系列的处理，比如说抗锯齿，拉伸，对齐等等。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    src(Drawable) resource:必需。 引用一个drawableResource.</span></span><br><span class="line"><span class="comment">    antialias (Boolean): 是否开启抗锯齿。</span></span><br><span class="line"><span class="comment">    dither (Boolean): 如果位图与屏幕的像素配置不同时，是否允许抖动.（例如：一个位图的像素设置是 ARGB 8888，但屏幕的设置是RGB 565）</span></span><br><span class="line"><span class="comment">    filter (Boolean): 是否允许对位图进行滤波。对位图进行收缩或者延展使用滤波可以获得平滑的外观效果。</span></span><br><span class="line"><span class="comment">    gravity: 定义位图的重力（gravity），如果位图小于其容器，使用重力指明在何处绘制</span></span><br><span class="line"><span class="comment">    tileMode:</span></span><br><span class="line"><span class="comment">            "disabled" :默认值，什么也没有</span></span><br><span class="line"><span class="comment">            "clamp" :复制图片边缘的颜色来填充容器剩下的空白部分，比如引入的图片如果是白色的边缘，那么图片所在的容器里除了图片，剩下的空间都会被填充成白色</span></span><br><span class="line"><span class="comment">            "repeat" :平铺</span></span><br><span class="line"><span class="comment">            "mirror":镜面</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bitmap</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:alpha</span>=<span class="string">"1"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:antialias</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:dither</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:filter</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">"clip_vertical"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:src</span>=<span class="string">"@drawable/press"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:tileMode</span>=<span class="string">"disabled"</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br></pre></td></tr></table></figure>
<p>layout：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:clipChildren</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/iv"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"400dip"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"400dip"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:src</span>=<span class="string">"@drawable/bitmap"</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>效果：</p>
<p><img src="/2017/08/01/android-UI-drawing-drawable-01/10.png" alt="BitmapDrawable"></p>
<h3 id="13、nine-patch"><a href="#13、nine-patch" class="headerlink" title="13、nine-patch"></a>13、nine-patch</h3><p>NinePatchDrawable:这个就是我们知道的点九图片，也就是.9.png，会根据内容的大小对其内容进行拉伸，注意：但是不能压缩，这也就是我们看到的切图为什么一开始都会做得很小，</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">nine-patch</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:src</span>=<span class="string">"@drawable/list_tag_clear"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:dither</span>=<span class="string">"true"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p>我们要明白src对应的应该是一个.9图片,<br>dither 是否图像抖动处理，当每个颜色值以低于8位表示时，对应图像做抖动处理可以实现在可显示颜色总数比较低(比如256色)时还保持较好的显示效果。</p>
<p>layout:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:clipChildren</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"assssssssssssssssssssssssssssssssssssssssss"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">"@drawable/nine"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>注意：有可能会出Error:java.lang.RuntimeException: Some file crunching failed, see logs for details</p>
<p>意思就是说</p>
<ul>
<li>1.构建Gradle的时候，Gradle会去检查一下是否修改过文件的后缀名；</li>
<li>2.一般大多数是出现在图片上，.jpg修改成了.png就会出现这个问题；</li>
<li>3.9patch图片也可能出现这个问题。</li>
</ul>
<p>很明显我们可能是第三种情况</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/08/01/android-UI-drawing-drawable-01/" data-id="cjk69ukmt0031ioewx5bp0emw" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/绘图技巧/">绘图技巧</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/08/04/android-UI-drawing-drawable-02/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Drawable的进阶用法
        
      </div>
    </a>
  
  
    <a href="/2017/07/29/dataType-adt-02/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">数据结构表（ADT）解析(下)</div>
    </a>
  
</nav>

  
</article>

</section>
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      <a href="/" class="logo">刘鹏程</a>
      &copy; 2018 刘鹏程<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    

<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.scrollLoading.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>